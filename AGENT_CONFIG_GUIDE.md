# 🎭 AI Agent 劇本設定功能

本功能讓您可以自定義 AI 對話角色的行為、性格和對話劇本，打造專屬的 AI 對話體驗。

## 🌟 功能特色

### 📝 完整的劇本自定義
- **角色設定**: 定義 AI 的名稱、身份、背景
- **性格特徵**: 設定說話風格、語氣、反應模式
- **對話規則**: 制定對話的限制和引導方向
- **評分標準**: 建立對話品質的評估機制

### 🎯 多語言支持
- 繁體中文 (zh)
- 英文 (en)
- 可擴展至其他語言

### 🔊 語音個性化
- 多種 TTS 語音選擇
- 語音風格配置
- 發音偏好設定

### 💾 配置管理
- 儲存多個劇本配置
- 匯入/匯出配置檔案
- 範例劇本快速載入

## 🚀 使用方法

### 1. 進入劇本設定頁面
從主頁面點擊「🎭 劇本設定」按鈕，或直接訪問 `/agent-config` 路徑。

### 2. 創建新劇本
1. 點擊「➕ 新增配置」開始創建
2. 填寫基本資訊：
   - **Agent 名稱**: 如「小禎 (Delta R&D Engineer)」
   - **語言**: 選擇中文或英文
   - **語音**: 選擇合適的 TTS 語音
   - **公開描述**: 簡短說明 Agent 用途

3. 設定劇本內容：
   - **Agent 指令**: 詳細的角色設定和對話規則
   - **評分標準**: 定義對話品質評估方式
   - **開場白**: 設定首次對話的開頭
   - **語音轉文字提示**: 優化語音識別準確度

### 3. 使用範例劇本
- 點擊「中文範例」或「英文範例」快速載入預設劇本
- 基於範例進行修改，快速創建個人化劇本

### 4. 儲存和管理
- 點擊「💾 儲存配置」保存劇本
- 已儲存的劇本會出現在左側列表
- 可隨時編輯、刪除或匯出配置

## 📖 劇本撰寫指南

### 核心要素
一個完整的 AI 劇本應包含：

#### 1. 角色身份
```
Agent Name: 小禎（Delta R&D Engineer）
Agent Description: 32歲，製造部專員，任職四年...
```

#### 2. 性格特徵
```
個性偏向ISTJ：內向、務實、理性、有計畫
溝通風格：理性說明，但會透露壓力與不滿
```

#### 3. 對話情境
```
情境設定：在本次的專案合作中，小禎未能有效扮演溝通橋樑的角色...
```

#### 4. 行為限制
```
Agent Prohibited Rules:
❌ 不得主動引導主管完成GROW流程
❌ 不得說出「我會改」、「我會努力」等過度順從語句
```

### 撰寫技巧

#### 🎯 明確的角色定位
- 具體的年齡、職位、背景
- 清晰的性格特徵
- 特定的專業領域

#### 🗣️ 自然的對話風格
- 符合角色身份的用詞
- 一致的語氣和態度
- 適當的情感表達

#### 📋 具體的行為規則
- 明確什麼可以做，什麼不能做
- 處理特殊情況的指導
- 保持角色一致性的要求

#### 🎓 教學目標導向
- 清楚的學習目標
- 循序漸進的引導方式
- 有效的評估標準

## 💡 最佳實踐

### 1. 從範例開始
- 先載入中文或英文範例
- 理解劇本結構和寫作風格
- 基於範例進行客製化修改

### 2. 分段撰寫
- 先寫角色基本設定
- 再添加對話規則
- 最後完善評分標準

### 3. 測試和調整
- 儲存後立即在對話頁面測試
- 根據實際效果調整劇本內容
- 逐步優化對話品質

### 4. 版本管理
- 為不同版本的劇本使用不同名稱
- 定期匯出重要配置作為備份
- 保留功能良好的版本

## 🔧 技術細節

### 配置結構
劇本配置基於 `AgentConfig` 介面：

```typescript
interface AgentConfig {
  name: string;              // Agent 名稱
  publicDescription: string; // 公開描述
  instructions: string;      // 核心劇本內容
  voice: string;            // TTS 語音
  lang: Language;           // 語言設定
  criteria?: string;        // 評分標準
  startAsk?: string;        // 開場白
  sttPrompt?: string;       // 語音轉文字提示
  tools: Tool[];            // 工具配置
  toolLogic?: Record<string, Function>; // 工具邏輯
}
```

### 儲存機制
- 配置儲存在 `AgentConfigManager` 中
- 支援本地快取和持久化
- 提供驗證和錯誤處理

### 匯入匯出
- JSON 格式的配置檔案
- 完整的配置信息保留
- 跨裝置配置共享

## 🎨 範例劇本

### 範例 1: 管理技能訓練
**角色**: 需要訓練 GROW 管理技巧的下屬
**目標**: 讓使用者練習輔導和引導技巧
**特色**: 真實的職場情境，具體的問題場景

### 範例 2: 語言學習夥伴
**角色**: 友善的語言學習助手
**目標**: 提供對話練習和即時反饋
**特色**: 鼓勵性互動，適應學習者程度

### 範例 3: 技術面試官
**角色**: 資深技術主管
**目標**: 模擬技術面試情境
**特色**: 專業提問，深度技術探討

## 🤝 貢獻指南

歡迎分享您創建的優質劇本：

1. 匯出您的劇本配置
2. 添加詳細的使用說明
3. 提供測試結果和效果描述
4. 協助改進劇本設定功能

## 📞 支援

如果您在使用劇本設定功能時遇到問題：

1. 檢查配置是否填寫完整
2. 確認必填欄位已正確填入
3. 嘗試重新載入範例劇本
4. 查看瀏覽器控制台的錯誤信息

---

**🎭 開始創造您的專屬 AI 角色吧！**
