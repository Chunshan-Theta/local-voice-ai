use case
1. 開始程式 -> 偵測環境音量 -> 設定基礎閥值 -> 持續收音
    1.1 音量超過基礎閥值且沒有在播放tts -> 開始錄音 -> 直到音量低於基礎閥值 -> 停止錄音 -> 儲存音頻檔案 -> 進行語音識別 --> 傳送文字到後端 -> 傳送到Ollama模型 -> 取得AI回應 -> 傳送到前端 -> 前端使用Web Speech API進行TTS播放
    1.2 TTS 播放時 -> 偵測音量變化 -> 如果音量超過基礎閥值，則設定搶話閥值 -> 如果音量超過搶話閥值且有在播放TTS -> 停止TTS播放 -> 開始錄音 -> 直到音量低於基礎閥值 -> 停止錄音 -> 儲存音頻檔案 -> 進行語音識別 --> 傳送文字到後端 -> 傳送到Ollama模型 -> 取得AI回應 -> 傳送到前端 -> 前端使用Web Speech API進行TTS播放 ✅ 已實現
2. 停止程式 -> 停止TTS播放 -> 停止錄音 -> 停止持續收音偵測音量  



1. 🎤 檢測到語音 → 開始錄音 (記錄開始時間)
2. 🔇 檢測到靜音 → 停止錄音
3. ⏱️ 檢查錄音時長：
   ├─ 如果 ≥ 1秒 → 正常處理 (轉錄 + AI回覆)
   └─ 如果 < 1秒 → 誤判處理：
       ├─ 顯示 "錄音時間過短，請說話時間長一點"
       ├─ 2秒後自動清除錯誤
       └─ 重新進入等待語音觸發狀態
4. 🔄 用戶可以重新說話

## 打斷功能實現詳情 ✅

### 新增狀態管理
- `isInterrupting`: 標記是否正在執行打斷操作
- `interruptCheckCountRef`: 連續檢測計數，避免誤判

### 新增閾值邏輯
- **搶話閾值**: `baselineNoise + 25` (可在 `NOISE_CALIBRATION_CONFIG.INTERRUPT_THRESHOLD_OFFSET` 調整)
- **兩階段檢測**: 
  1. 音量超過基礎閾值 (檢測到有聲音)
  2. 音量超過搶話閾值 (確認是想要打斷)

### 打斷流程
1. **持續監測**: TTS 播放時持續檢測音量
2. **連續確認**: 需連續 3 次檢測到搶話才執行打斷 (避免誤判)
3. **執行打斷**: 停止 TTS → 開始錄音
4. **視覺反饋**: 
   - 音量條顯示搶話閾值
   - 不同顏色表示不同狀態 (紫色=TTS播放，橙色=接近搶話，深橙=觸發搶話)

### 日志調試
- 每 5 秒輸出詳細狀態信息
- 搶話檢測時實時輸出音量和閾值對比

### 配置常量
- `INTERRUPT_THRESHOLD_OFFSET: 25` - 搶話閾值增量
- 連續檢測次數: 3 次 (硬編碼在 `performTtsInterrupt` 邏輯中)




